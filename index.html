<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dent du Lion</title>
    <!-- 98.css for the core look and feel -->
    <link rel="stylesheet" href="https://unpkg.com/98.css">
    <link rel="stylesheet" href="style.css?v=2">
    <link rel="stylesheet" href="style-gallery.css">
    <!-- Gitalk -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>
<body>

    <!-- Desktop Icons -->
    <div class="desktop-icons" id="desktop">
        <div class="icon" id="icon-computer" data-icon-id="computer" data-default-left="20" data-default-top="20" ondblclick="openWindow('window-computer')">
            <img src="icon/computer_explorer-4.png" alt="My Computer">
            <div class="icon-text">我的电脑</div>
        </div>
        <div class="icon" id="icon-guestbook" data-icon-id="guestbook" data-default-left="20" data-default-top="110" ondblclick="openWindow('window-guestbook')">
            <img src="icon/notepad-5.png" alt="Guestbook">
            <div class="icon-text">留言板.txt</div>
        </div>
        <div class="icon" id="icon-github" data-icon-id="github" data-default-left="20" data-default-top="200" ondblclick="window.open('https://github.com', '_blank')">
            <img src="icon/network_internet_pcs_installer-2.png" alt="Internet">
            <div class="icon-text">网上邻居</div>
        </div>
        <div class="icon" id="icon-resume" data-icon-id="resume" data-default-left="20" data-default-top="290" ondblclick="openWindow('window-resume')">
            <img src="icon/Hopstarter-Soft-Scraps-Adobe-PDF-Document.256.png" alt="Resume">
            <div class="icon-text">我的简历</div>
        </div>

        <div class="icon" id="icon-music" data-icon-id="music" data-default-left="20" data-default-top="380" ondblclick="openWindow('window-music')">
            <img src="icon/cd_player.png" alt="Music">
            <div class="icon-text">音乐播放器</div>
        </div>

        <div class="icon" id="icon-radio" data-icon-id="radio" data-default-left="20" data-default-top="470" ondblclick="window.open('https://radio.garden/visit/glasgow/CtpxHQ6P', '_blank')">
            <img src="icon/radio.svg" alt="Radio">
            <div class="icon-text">收音机</div>
        </div>

        <div class="icon" id="icon-minesweeper" data-icon-id="minesweeper" data-default-left="20" data-default-top="560" ondblclick="openWindow('window-minesweeper')">
            <img src="icon/minesweeper-0.png" alt="Minesweeper">
            <div class="icon-text">扫雷</div>
        </div>

        <div class="icon" id="icon-recyclebin" data-icon-id="recyclebin" data-default-left="120" data-default-top="20" ondblclick="openWindow('window-recyclebin')">
            <img id="recyclebin-desktop-icon" src="icon/recycle_bin_full.png" alt="Recycle Bin">
            <div class="icon-text">回收站</div>
        </div>

        <div class="icon" id="icon-gallery" data-icon-id="gallery" data-default-left="120" data-default-top="110" ondblclick="openWindow('window-gallery'); initGallery();">
            <img src="icon/camera.png" alt="Gallery" onerror="this.src='icon/directory_open_file_mydocs-4.png'">
            <div class="icon-text">我的相册</div>
        </div>
    </div>

    <!-- Top Right Info -->
    <div id="top-right-info">
        <div id="visitor-counter">
            You are the <a href="https://www.easycounter.com/"><img src="https://www.easycounter.com/counter.php?blankke" border="0" alt="page counter"></a> th visitor.
        </div>
        <div id="last-updated">
            Last updated: <span id="last-updated-time"></span>
        </div>
    </div>

    <!-- Window: My Computer (Personal Info) -->
    <div id="window-computer" class="window" data-window-title="我的电脑" data-window-icon="icon/computer_explorer-4.png" style="width: 400px;">
        <div class="title-bar">
            <div class="title-bar-text">我的电脑 - 个人介绍</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-computer')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-computer')"></button>
                <button aria-label="Close" onclick="closeWindow('window-computer')"></button>
            </div>
        </div>
        <div class="window-body">
            <div class="computer-content">
                <h3>👋 你好！欢迎来到我的个人网站</h3>
                <p>这是我的一个小角落，用来放一些关于我自己的介绍和想法。

我叫 Blankke，这个名字是 Blank Kernel Explorer 的缩写。最初只是一个简单的别名，但渐渐地它成为了我为什么喜欢系统编程的提醒：从几乎空白的地方开始，通过结构让复杂性浮现。


我学习计算机科学，专注于操作系统和底层软件。当我不在写内核或调试构建系统时，我会写作、阅读和做笔记 —— 经常试图理解那些还没有明确答案的想法。

我其实还有挺多爱好的，有时骑骑车，有时玩玩游戏，有时听听广播，最喜欢以前在放学路上的车里听城市之声的音乐频道。不过到了大学也渐渐有些嘈杂，所以我开始寻找网络上的广播电台，发现了很多有趣的东西。

这个网站是一个安静的地方，用来收集我正在构建、学习和思考的东西。</p>
                
                <p style="margin-top: 15px;">对了，这里还有一个小伙伴 —— 我的宠物 <strong>MewMew</strong>（一只粉色的猫咪）。她有点害羞，但如果你耐心等待一会儿，她会主动跟你说话的~ 😺</p>
                <br>
                <fieldset>
                    <legend>关于我</legend>
                    <ul>
                        <li>职业：开发者 / Developer</li>
                        <li>爱好：编程、游戏、写博客、听广播</li>
                        <li>位置：I am in the INTERNET</li>
                    </ul>
                </fieldset>
            </div>
            <div class="status-bar" style="margin-top: 10px;">
                <p class="status-bar-field">3 Objects</p>
                <p class="status-bar-field">12.5 MB</p>
            </div>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: Guestbook -->
    <div id="window-guestbook" class="window" data-window-title="留言板" data-window-icon="icon/notepad-5.png" style="width: 350px;">
        <div class="title-bar">
            <div class="title-bar-text">留言板.txt - 记事本</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-guestbook')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-guestbook')"></button>
                <button aria-label="Close" onclick="closeWindow('window-guestbook')"></button>
            </div>
        </div>
        <div class="window-body">
            <ul role="menu-bar">
                <li role="menu-item">文件</li>
                <li role="menu-item">编辑</li>
                <li role="menu-item">搜索</li>
                <li role="menu-item">帮助</li>
            </ul>
            <div class="guestbook-container">
                <!-- Gitalk Container -->
                <div id="gitalk-container"></div>
            </div>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: Recycle Bin -->
    <div id="window-recyclebin" class="window" data-window-title="回收站" data-window-icon="icon/recycle_bin_full.png" style="width: 420px; height: 320px;">
        <div class="title-bar">
            <div class="title-bar-text">回收站</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-recyclebin')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-recyclebin')"></button>
                <button aria-label="Close" onclick="closeWindow('window-recyclebin')"></button>
            </div>
        </div>
        <div class="window-body">
            <div class="recyclebin-layout">
                <div class="recyclebin-list" id="recyclebin-list" aria-label="Recycle Bin Items"></div>
                <div class="recyclebin-preview">
                    <fieldset>
                        <legend>说明</legend>
                        <div id="recyclebin-preview-text" style="white-space: pre-wrap; font-size: 12px;">右键文件试试。</div>
                    </fieldset>
                    <fieldset style="margin-top: 10px;">
                        <legend>操作</legend>
                        <button type="button" disabled>清空回收站</button>
                    </fieldset>
                </div>
            </div>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: Gallery -->
    <div id="window-gallery" class="window" data-window-title="我的相册" data-window-icon="icon/camera.png" style="width: 800px; height: 600px;">
        <div class="title-bar">
            <div class="title-bar-text">我的相册 - 图片查看器</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-gallery')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-gallery')"></button>
                <button aria-label="Close" onclick="closeWindow('window-gallery')"></button>
            </div>
        </div>
        <div class="window-body" style="padding: 0; background: #fff; overflow-y: auto;">
            <div id="gallery-content" class="gallery-content">
                <!-- 瀑布流内容将由 JS 动态生成 -->
            </div>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: readme.txt (from Recycle Bin) -->
    <div id="window-recycle-readme" class="window" data-window-title="readme.txt" data-window-icon="icon/notepad-5.png" style="width: 520px; height: 420px;">
        <div class="title-bar">
            <div class="title-bar-text">readme.txt - 记事本</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-recycle-readme')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-recycle-readme')"></button>
                <button aria-label="Close" onclick="closeWindow('window-recycle-readme')"></button>
            </div>
        </div>
        <div class="window-body">
            <ul role="menu-bar">
                <li role="menu-item">文件</li>
                <li role="menu-item">编辑</li>
                <li role="menu-item">帮助</li>
            </ul>
            <textarea id="recycle-readme-text" style="flex: 1; width: 100%; resize: none;"></textarea>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: Wisdom Tree (PVZ-like) -->
    <div id="window-wisdomtree" class="window" data-window-title="植物大战僵尸" data-window-icon="icon/pvz_icon.png" style="width: 640px; height: 460px;">
        <div class="title-bar">
            <div class="title-bar-text">Plants vs Zombies (Lite)</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-wisdomtree')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-wisdomtree')"></button>
                <button aria-label="Close" onclick="closeWindow('window-wisdomtree')"></button>
            </div>
        </div>
        <div class="window-body" style="padding: 0;">
            <div id="pvz-tree" class="pvz-tree">
                <div class="pvz-tree-topbar">
                    <button id="pvz-fertilize" type="button" class="btn pvz-fertilize" title="施肥">
                        <img src="icon/TreeFood.png" alt="Fertilizer">
                        <span id="pvz-food-count">x 10</span>
                    </button>
                </div>
                <div class="pvz-tree-body">
                    <div class="pvz-tree-stage">
                        <img src="icon/Store_TreeOfWisdomIcon.png" alt="Wisdom Tree" class="pvz-tree-img">
                    </div>
                    <div class="pvz-tree-speech" id="pvz-tree-speech">……</div>
                </div>
            </div>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: Resume -->
    <div id="window-resume" class="window" data-window-title="我的简历" data-window-icon="icon/Hopstarter-Soft-Scraps-Adobe-PDF-Document.256.png" style="width: 700px; height: 600px;">
        <div class="title-bar">
            <div class="title-bar-text">我的简历.doc - Microsoft Word</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-resume')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-resume')"></button>
                <button aria-label="Close" onclick="closeWindow('window-resume')"></button>
            </div>
        </div>
        <div class="window-body">
            <ul role="menu-bar">
                <li role="menu-item">文件</li>
                <li role="menu-item">编辑</li>
                <li role="menu-item">查看</li>
                <li role="menu-item">帮助</li>
            </ul>
            <div class="resume-container">
                <iframe src="resume.html" frameborder="0"></iframe>
            </div>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: Minesweeper -->
    <div id="window-minesweeper" class="window" data-window-title="扫雷" data-window-icon="icon/minesweeper-0.png" style="width: 380px; height: 480px;">
        <div class="title-bar">
            <div class="title-bar-text">扫雷</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-minesweeper')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-minesweeper')"></button>
                <button aria-label="Close" onclick="closeWindow('window-minesweeper')"></button>
            </div>
        </div>
        <div class="window-body" style="padding: 0; overflow: hidden;">
            <iframe src="minesweeper.html" frameborder="0" style="width: 100%; height: 100%; border: none;"></iframe>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: MS-DOS Prompt (CMD) -->
    <div id="window-cmd" class="window" data-window-title="MS-DOS Prompt" data-window-icon="icon/command_prompt-0.png" style="width: 650px; height: 450px;">
        <div class="title-bar">
            <div class="title-bar-text">MS-DOS Prompt</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-cmd')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-cmd')"></button>
                <button aria-label="Close" onclick="closeWindow('window-cmd')"></button>
            </div>
        </div>
        <div class="window-body" style="padding: 0; background: #000;">
            <div id="terminal-container">
                <div id="terminal-output"></div>
                <div class="terminal-input-line">
                    <span id="terminal-prompt-text" class="terminal-prompt"></span>
                    <span id="terminal-input-display"></span><span class="terminal-cursor">_</span>
                    <input type="text" id="terminal-input" autocomplete="off" spellcheck="false">
                </div>
            </div>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: Music Player -->
    <div id="window-music" class="window" data-window-title="音乐播放器" data-window-icon="icon/cd_playerpng" style="width: 760px; height: 520px;">
        <div class="title-bar">
            <div class="title-bar-text">音乐播放器 - Windows Media Player (Lite)</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-music')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-music')"></button>
                <button aria-label="Close" onclick="closeWindow('window-music')"></button>
            </div>
        </div>
        <div class="window-body">
            <ul role="menu-bar">
                <li role="menu-item">文件</li>
                <li role="menu-item">播放</li>
                <li role="menu-item">视图</li>
                <li role="menu-item">帮助</li>
            </ul>
            <div class="music-container">
                <div class="music-list" id="music-list">
                    <div style="padding: 4px;">正在加载 music/manifest.json ...</div>
                </div>
                <div class="music-now">
                    <div class="music-now-title" id="music-now-title">未选择歌曲</div>
                    <div class="music-controls">
                        <button class="btn" id="music-prev" type="button">上一首</button>
                        <button class="btn" id="music-play" type="button">播放</button>
                        <button class="btn" id="music-pause" type="button">暂停</button>
                        <button class="btn" id="music-next" type="button">下一首</button>
                        <label class="music-loop"><input id="music-loop" type="checkbox"> 循环</label>
                    </div>
                    <audio class="music-audio" id="music-audio" controls preload="metadata"></audio>
                    <div class="status-bar">
                        <p class="status-bar-field" id="music-status">就绪</p>
                        <p class="status-bar-field">44.1 kHz</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Window: Browser -->
    <div id="window-browser" class="window" data-window-title="Internet Explorer" data-window-icon="icon/msie1-0.png" style="width: 800px; height: 600px;">
        <div class="title-bar">
            <div class="title-bar-text">Internet Explorer</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize" onclick="minimizeWindow('window-browser')"></button>
                <button aria-label="Maximize" onclick="toggleMaximizeWindow('window-browser')"></button>
                <button aria-label="Close" onclick="closeWindow('window-browser')"></button>
            </div>
        </div>
        <div class="window-body" style="display: flex; flex-direction: column; height: 100%; padding: 0;">
            <div style="padding: 2px; border-bottom: 1px solid #808080;">
                <ul role="menu-bar">
                    <li role="menu-item">文件(F)</li>
                    <li role="menu-item">编辑(E)</li>
                    <li role="menu-item">查看(V)</li>
                    <li role="menu-item">收藏(A)</li>
                    <li role="menu-item">帮助(H)</li>
                </ul>
            </div>
            <div style="padding: 4px; display: flex; align-items: center; gap: 4px; border-bottom: 1px solid #808080;">
                <span>地址(D):</span>
                <input type="text" id="browser-address" style="flex: 1;" readonly>
            </div>
            <div style="flex: 1; position: relative;">
                <iframe id="browser-iframe" src="" style="width: 100%; height: 100%; border: none;"></iframe>
            </div>
        </div>
        <div class="resize-handle"></div>
    </div>

    <!-- Start Menu -->
    <div id="start-menu" class="start-menu">
        <div class="start-menu-sidebar">
            Windows 98
        </div>
        <div class="start-menu-items">
            <div class="menu-item" onclick="openWindow('window-computer')">
                <img src="icon/computer_explorer-4.png">
                <span>我的电脑</span>
            </div>
            <div class="menu-item" onclick="window.open('https://github.com', '_blank')">
                <img src="icon/directory_open_file_mydocs-4.png">
                <span>我的 GitHub 项目</span>
            </div>
            <div class="menu-item">
                <img src="icon/settings_gear-4.png">
                <span>设置</span>
            </div>
            <hr style="width: 100%; border-top: 1px solid #808080; border-bottom: 1px solid #fff;">
            <div class="menu-item" onclick="window.close()">
                <img src="icon/shut_down_normal-4.png">
                <span>关闭系统...</span>
            </div>
        </div>
    </div>

    <!-- Taskbar -->
    <div class="taskbar">
        <button id="start-button" class="start-button">
            <img src="icon/windows-0.png" alt="win">
            Start
        </button>
        <div class="taskbar-separator"></div>
        <div class="quick-launch">
            <button class="quick-launch-btn" title="Internet Explorer" onclick="openBrowser('ie_start.html')">
                <img src="icon/msie1-0.png" alt="IE">
            </button>
        </div>
        <div class="taskbar-separator"></div>
        <div class="taskbar-windows" id="taskbar-windows" aria-label="Running windows"></div>
        <div class="taskbar-divider"></div>
        <div class="system-tray">
            <div class="tray-icon" id="tray-ethernet" title="网络连接">
                <img src="icon/Pictogrammers-Material-Ethernet-cable.512.png" alt="Ethernet">
            </div>
            <div class="tray-icon" id="tray-qq" title="QQ">
                <img src="icon/Bootstrap-Bootstrap-Bootstrap-tencent-qq.512.png" alt="QQ">
            </div>
            <div class="taskbar-time" id="taskbar-time">12:00 PM</div>
        </div>
    </div>

    <!-- 桌面右键菜单 -->
    <div id="context-menu" class="context-menu">
        <div class="context-menu-item" id="ctx-arrange">
            <span>排列图标</span>
        </div>
        <div class="context-menu-item" id="ctx-refresh">
            <span>刷新</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" id="ctx-paste" class="disabled">
            <span>粘贴</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" id="ctx-properties">
            <span>属性</span>
        </div>
    </div>

    <!-- 图标右键菜单 -->
    <div id="icon-context-menu" class="context-menu">
        <div class="context-menu-item" id="icon-ctx-open">
            <span>打开</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" id="icon-ctx-copy">
            <span>复制</span>
        </div>
        <div class="context-menu-item" id="icon-ctx-delete">
            <span>删除</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" id="icon-ctx-properties">
            <span>属性</span>
        </div>
    </div>

    <script src="pet.js"></script>
    <script src="cmd.js"></script>
    
    <!-- Modularized Scripts -->
    <script src="js/core.js"></script>
    <script src="js/window-manager.js"></script>
    <script src="js/desktop.js"></script>
    <script src="js/recycle-bin.js"></script>
    <script src="js/apps.js"></script>
    <script src="js/gallery-data.js"></script>
    <script src="js/gallery.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
